<div id="tapis">
  <div id="tapis_title" class="div_title"><%= "Tapis [courante : #{@game.courante}] [étendu : #{@game.etendu}] [sets #{@game.nb_set}] [ratés : #{@game.nb_bad_set}] [score : #{@game.nb_point}]" -%></div>
  <div id="tapis_title" class="div_title"><%= "[début : #{@game.start.to_s(:db)}] [dernier set : #{@game.last_set ? @game.last_set.to_s(:db) : '&nbsp;'}]" -%></div>
  <div id="tapis_title" class="div_title"><%= "[points / temps moyen sur la partie : #{@game.nb_set > 0 ? sprintf('%2.2f', @game.nb_point.to_f / @game.nb_set.to_f) : 0.to_s} / #{@game.last_set ? sprintf('%2.2f', (@game.last_set - @game.start) / @game.nb_set) : '&nbsp;'}]" -%></div>
  <div id="tapis_title" class="div_title"><%= "[points / temps pour le dernier set : #{@game.nb_last_point ? @game.nb_last_point.to_s : '&nbsp;'} / #{@game.time_last_set ? sprintf('%2.2f', @game.time_last_set) : '&nbsp;'}]" -%></div>
  <div id="tapis_title" class="div_title"><%= "[set(s) possible(s) : #{@game.nb_set_possible}]" -%></div>
  <% if @game.game_over -%>
    <div id="tapis_title" class="div_title"><%= "******************* PARTIE TERMINEE *******************" -%></div>
  <% end -%>
  <%= javascript_tag "
    selected_cards = [];
    possible_sets = #{@game.get_sets.inspect};
    etendu = #{@game.etendu};" %>
  <% Game::NB_ETAT.times do |e| -%>
    <% (Game::NB_CARAC + 2).times do |c| -%>
      <% place_number = c * Game::NB_ETAT + e -%>
      <% card_id = @game.tapis[c * Game::NB_ETAT + e] ? Game::CARDS[@game.talon[@game.tapis[place_number]]].join('') : "none" -%>
      <div id="<%= "tapis_card_#{place_number}" -%>" class="<%= "card_#{card_id}" -%>" 
        onclick="<%= card_id != 'none' and @game.game_over == 0 ? "select_tapis_card('#{@game.id}' , #{place_number})" : "" -%>">
      </div>
    <% end -%>
  <% end -%>
  <div class="spacer">&nbsp;</div>
</div>
